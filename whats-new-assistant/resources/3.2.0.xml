<?xml version="1.0"?>
<!--
  ~ Copyright (C) 2018 The Android Open Source Project
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<tutorialBundle
    name="What's New"
    logo="core/whats_new_logo.png"
    resourceRoot="/"
    stepByStep="false"
    hideStepIndex="true">
  <feature
      name="What's New in 3.2">
    <tutorial
        key="whats-new"
        label=" What's New in 3.2"
        icon="core/whats_new_icon.png"
        remoteLink="https://d.android.com/r/studio-ui/whats-new-assistant/canary-release-notes.html"
        remoteLinkLabel="Read in a browser">
      <description>
        <![CDATA[
          This panel describes some of the new features and behavior changes
          included in this update.
          ]]>
      </description>
      <step label="New Profiler Features">
        <stepElement>
          <section>
            <![CDATA[

          <img src="https://d.android.com/studio/releases/assistant/3.2.0/profiler-features-overview.gif">

          <br><br>
          The <a href="https://developer.android.com/studio/profile/android-profiler.html?utm_source=android-studio&utm_medium=studio-assistant">
          Android Profiler</a>
          <img src="https://d.android.com/studio/images/buttons/toolbar-android-profiler.png" width="16" height="16">
          now includes the following new features:

          <br><br>
          <ul>
            <li><b>Sessions:</b> Save profiler data as "sessions" to
            revisit and inspect later.
            <a href="https://d.android.com/studio/preview/features/index.html?utm_source=android-studio&utm_medium=studio-assistant#sessions">
            Learn more</a></li>

            <li><b>Start method traces using the Debug API:</b>
            Call <code>Debug.startMethodTracing(String tracePath)</code> and
            <code>Debug.stopMethodTracing()</code> in your app's code to programmatically start and stop
            recording method traces in the CPU profiler.
            <a href="https://d.android.com/studio/preview/features/index.html?utm_source=android-studio&utm_medium=studio-assistant#debug_api">
            Learn more</a></li>

            <li><b>System Trace:</b> In the CPU Profiler, inspect your device's
            system CPU and thread activity using the new <b>System Trace</b>
            configuration. It's built on
            <a href="https://d.android.com/studio/command-line/systrace.html?utm_source=android-studio&utm_medium=studio-assistant">
            <code>systrace</code></a> and is useful for investigating
            system-level issues, such as UI jank.
            <a href="https://d.android.com/studio/preview/features/index.html?utm_source=android-studio&utm_medium=studio-assistant#system_trace">
            Learn more</a></li>

            <li><b>Export CPU trace files:</b>
            After you
            <a href="https://d.android.com/studio/profile/cpu-profiler.html?utm_source=android-studio&utm_medium=studio-assistant#method_traces">
            record CPU activity</a> with the CPU profiler, export the data as a
            <code>.trace</code> file by right-clicking on the recording in the CPU timeline and selecting
            <b>Export trace</b> from the context menu.
            <a href="https://d.android.com/studio/preview/features/index.html?utm_source=android-studio&utm_medium=studio-assistant#export_trace">
            Learn more</a></li>

            <li><b>Import and inspect CPU trace files:</b>
            You can now import and inspect <code>.trace</code> files that you create using the
            <a href="https://d.android.com/reference/android/os/Debug.html?utm_source=android-studio&utm_medium=studio-assistant">
            Debug API</a> or
            <a href="https://d.android.com/studio/profile/cpu-profiler.html?utm_source=android-studio&utm_medium=studio-assistant#method_traces">
            CPU profiler</a> (however, importing System Trace recordings is currently not supported).
            Import your trace file by clicking <b>Start a new profiling session</b>
            <img src="https://d.android.com/studio/images/buttons/ic_plus.png" width="16" height="16">
            in the profiler's <b>Sessions</b> pane and then selecting <b>Load from file</b>.
            <a href="https://d.android.com/studio/preview/features/index.html?utm_source=android-studio&utm_medium=studio-assistant#import_trace">
            Learn more</a></li>

            <li><b>Record CPU activity during app startup:</b>
            Enable the feature by selecting
            <b>Run &gt; Edit Configurations</b> from the main menu
            and, under the <b>Profiling</b> tab of your desired run
            configuration, checking the box next to <b>Start
            recording a method trace on startup</b>. Now deploy
            your app to a device running Android 8.0 (API level 26) or higher by
            selecting <b>Run &gt; Profile</b>.
            <a href="https://d.android.com/studio/preview/features/index.html?utm_source=android-studio&utm_medium=studio-assistant#trace_startup">
            Learn more</a></li>

            <li><b>Inspect JNI references:</b>
            Inspect memory allocations for your app’s JNI code when you deploy
            to a device running Android 8.0 (API level 26) or higher.
            <a href="https://d.android.com/studio/preview/features/index.html?utm_source=android-studio&utm_medium=studio-assistant#jni_memory">
            Learn more</a></li>
          </ul>
           ]]>
          </section>
        </stepElement>
      </step>
      <step label="C/C++ IDE Features">
        <stepElement>
          <section>
            <![CDATA[

          <img src="https://d.android.com/studio/releases/assistant/3.2.0/cpp-features-overview.gif">

          <br><br>
          Android Studio now includes the following features for developing
          your C/C++ libraries:

          <br><br>
          <div style="margin-bottom:0px;">
          <ul>
            <li><b>Smart editor features for CMake scripts:</b>
            Perform safe refactoring, code completion,
            code reformatting, and other smart editor actions when editing CMake
            build scripts.
            <a href="https://d.android.com/studio/preview/features/index.html?utm_source=android-studio&utm_medium=studio-assistant#cmake-editor">
            Learn more</a></li>

            <li><b>Navigate external header files:</b>
            In the <b>Project</b> window, view and inspect header
            files from external C/C++ library dependencies that you import into
            your project using CMake.
            <a href="https://d.android.com/studio/preview/features/index.html?utm_source=android-studio&utm_medium=studio-assistant#navigate_headers">
            Learn more</li>
          </ul>
          </div>
           ]]>
          </section>
        </stepElement>
      </step>
      <step label="Other New Features and Behaviors">
        <stepElement>
          <section>
            <![CDATA[

          <ul>
            <li><b>AAPT2 now on Google's Maven repo:</b>
            To use AAPT2, you must add Google's Maven repository to your project-level <code>build.gradle</code>, as shown below.
            <a href="https://d.android.com/studio/preview/features/index.html?utm_source=android-studio&utm_medium=studio-assistant#aapt2_gmaven">
            Learn more</a>

            <br><br>
            <div style="border: solid gray 1px; padding-left: 10px;">
            <pre>buildscript.repositories {
    <b>google()</b>
    jcenter()
    ...
}
allprojects.repositories {
    <b>google()</b>
    jcenter()
    ...
}</pre>
            </div>

            <li><b>New code shrinker:</b> Preview a new code shrinker that
            also obfuscates by adding the line below to your project’s
            <code>gradle.properties</code> file.
            <a href="https://d.android.com/studio/preview/features/index.html?utm_source=android-studio&utm_medium=studio-assistant#R8">
            Learn more</a>

            <br><br>
            <div style="border: solid gray 1px; padding-left: 10px;">
            <pre>android.enableR8 = true</pre>
            </div>
            </li>

            <li><b>Lint checks for Java/Kotlin interoperability:</b>
            Enable new lint checks that enforce best practices described
            in the
            <a href="https://d.android.com/r/studio-wna/java-kotlin-interop.html">
            Kotlin Interop Guide</a> by first opening the IDE preferences dialog and
            navigating to <b>Editor &gt; Inspections</b>. Then, check the rules that
            you want to enable under <b>Kotlin Interoperability</b>.
            <a href="https://d.android.com/studio/preview/features/index.html?utm_source=android-studio&utm_medium=studio-assistant#java_kotlin_interop">
            Learn more</a></li>
            </div>
            </li>

            <li><b>Native multi-dex enabled by default:</b>
            The Android plugin for Gradle now enables native multidex for all modules that set
            <code>minSdkVersion = 21</code> or higher.
            </li>

            <li><b>Changed set of default ABIs:</b> When building multiple
            per-ABI APKs, Android plugin for Gradle 3.2.0 no longer
            generates APKs for the following ABIs by default: <code>mips</code>,
            <code>mips64</code>, and <code>armeabi</code>.
            <a href="https://d.android.com/studio/preview/features/index.html?utm_source=android-studio&utm_medium=studio-assistant#default_abis">
            Learn more</a></li>
          </ul>

          <br><hr><br>
          <a href="https://d.android.com/r/studio-wna/feedback.html">Submit feedback</a> for this panel.
          <br><br>
        </div>
        ]]>
          </section>
        </stepElement>
      </step>
    </tutorial>
  </feature>
</tutorialBundle>